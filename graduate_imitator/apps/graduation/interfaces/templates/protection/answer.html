{% extends 'base.html' %}
{% load static %}

{% block title %}–û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã{% endblock %}

{% block styles %}
    <link rel="stylesheet" type='text/css' href="{% static 'css/answer.css' %}">
{% endblock %}

{% block content %}
<div class="home-container">
    <div class="main-content">
        <div class="questions-block">
            <template id="question-template">
                <div class="generated-question">
                    <div class="horizontal-row centered-content">
                        <button class="play-audio-btn">üîä –°–ª—É—à–∞—Ç—å</button>
                        <audio id="speaker-audio-player"></audio>
                    </div>

                    <div class="horizontal-row centered-content">
                        <div class="question-toggle">üîΩ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</div>
                    </div>

                    <div class="question-text hidden centered-content">–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞...</div>

                    <div class="horizontal-row centered-content">
                        <button class="start-record-btn">üé§ –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
                        <button class="stop-record-btn" style="display: none;">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    </div>

                    <div class="answer-is-given centered-content" style="display: none;">
                        –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –±—ã–ª –∑–∞–ø–∏—Å–∞–Ω!
                    </div>

                    <div class="recording-indicator centered-content" style="display: none;">
                        –ò–¥–µ—Ç –∑–∞–ø–∏—Å—å...
                    </div>
                </div>
            </template>
        </div>

        <div class="end-protection-block centered-content" style="display: none;">
            <div class="audio-review-block centered-content">
                <p>–ü—Ä–æ—Å–ª—É—à–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏</p>
                <audio controls class="recorded-answer-player"></audio>
            </div>
            <div class="centered-content">
                <button class="finish-protection-btn">üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—â–∏—Ç—É</button>
            </div>
        </div>
    </div>

    <div id="error-message" class="error centered-content" style="display: none;">
        <p></p>
    </div>
</div>

<script>
    const questions = {{ questions|safe }};
    const speakerInfo = {{ speakerInfo|safe }};
</script>
<script src="{% static 'js/answer.js' %}"></script>

{% endblock %}